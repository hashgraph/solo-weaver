# Teleport Kubernetes Agent Helm Values - Local Development
# This file is configured for local development with the Teleport server
# running in Docker alongside the Alloy stack.

# Role: kube enables Kubernetes access
roles: kube

# Authentication token - generated by teleport server
# Get a new token with: task teleport:new-token
authToken: "REPLACE_WITH_JOIN_TOKEN"

# Teleport proxy address
# This gets replaced at runtime with the actual node IP
# The Kubernetes pods need to reach the Docker container on the host
proxyAddr: "REPLACE_WITH_NODE_IP:3080"

# Kubernetes cluster name as it will appear in Teleport
kubeClusterName: "solo-weaver-local"

# Labels for this Kubernetes cluster
labels:
  environment: local-dev
  purpose: testing
  managed-by: solo-weaver

# Disable enterprise features for local dev
enterprise: false

# Single replica for local development
highAvailability:
  replicaCount: 1
  podDisruptionBudget:
    enabled: false

# Disable automatic updates for local dev
updater:
  enabled: false

# Insecure mode for local development (self-signed certs)
insecureSkipProxyTLSVerify: true

# Resource limits for local development
resources:
  requests:
    cpu: "50m"
    memory: "128Mi"
  limits:
    cpu: "200m"
    memory: "256Mi"

# Log level for debugging
log:
  level: DEBUG
  format: text

