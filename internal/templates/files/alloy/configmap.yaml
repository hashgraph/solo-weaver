---
apiVersion: v1
kind: ConfigMap
metadata:
  name: {{.ConfigMapName}}
  namespace: {{.Namespace}}
data:
  config.alloy: |
    // Main Alloy configuration - imports all module files
    // This file is auto-generated by solo-provisioner
    //
{{- range .Modules}}
    // Include: {{.Filename}}
{{- end}}
{{range $i, $m := .Modules}}
    // ========================================
    // Module: {{$m.Name}} ({{$m.Filename}})
    // ========================================
{{$m.IndentedContent}}
{{end}}

